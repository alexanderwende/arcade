!function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var s=class{constructor(t){this._systems=[],this._entities=[],this._collidables=[]}addSystem(t){this._systems.push(t)}removeSystem(t){let e=this._systems.indexOf(t);e>-1&&this._systems.splice(e,1)}addEntity(t){this._entities[t.id]=t,t.components.collision&&this._collidables.push(t)}removeEntity(t){this._entities.splice(t.id,1),t.components.collision&&this._collidables.splice(this._collidables.indexOf(t),1)}getCollisionCandidates(t){return this._collidables.filter(function(e){return e!==t})}update(){this._systems.forEach(function(t){t.update(this._entities,this)}.bind(this))}};class o{constructor(t){this.id=o.createUniqueId(),this.components={}}addComponent(t){return this.components[t.constructor.id]=t,this}getComponent(t){return this.components[t]}removeComponent(t){return delete this.components[t.constructor.id],this}destroy(){}static createUniqueId(){return this._count++}}o._count=0;var i=o;const a=Math.PI,r=2*a;class d{constructor(t,e){void 0===e&&"object"==typeof t?(this.x=void 0!==t.x?t.x:0,this.y=void 0!==t.y?t.y:0):(this.x=void 0!==t?t:0,this.y=void 0!==e?e:0)}add(...t){for(let e=0,n=t.length;e<n;e++)this.x+=t[e].x,this.y+=t[e].y;return this}subtract(...t){for(let e=0,n=t.length;e<n;e++)this.x-=t[e].x,this.y-=t[e].y;return this}multiply(...t){for(let e=0,n=t.length;e<n;e++)this.x*=t[e].x,this.y*=t[e].y;return this}dotProduct(t){return this.x*t.x+this.y*t.y}crossProduct(t){return"number"==typeof t?new this.constructor(t*this.y,-t*this.x):"object"==typeof t?this.x*t.y-this.y*t.x:void 0}scale(t){return this.x*=t,this.y*=t,this}length(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}orientation(){return Math.acos(this.x/this.length())*(this.y<0?-1:1)}rotate(t){(t%=r)>a?t=-r+t:t<-a&&(t=r+t);let e=Math.cos(t),n=Math.sin(t),s=this.x*e-this.y*n,o=this.x*n+this.y*e;return this.x=s,this.y=o,this}normalize(){let t=this.length();return this.x/=t,this.y/=t,this}clone(){return new this.constructor(this.x,this.y)}static add(...t){let e=t[0].x,n=t[0].y;for(let s=1,o=t.length;s<o;s++)e+=t[s].x,n+=t[s].y;return new this(e,n)}static subtract(...t){let e=t[0].x,n=t[0].y;for(let s=1,o=t.length;s<o;s++)e-=t[s].x,n-=t[s].y;return new this(e,n)}static multiply(...t){let e=t[0].x,n=t[0].y;for(let s=1,o=t.length;s<o;s++)e*=t[s].x,n*=t[s].y;return new this(e,n)}static dotProduct(t,e){return t.x*e.x+t.y*e.y}static crossProduct(t,e){if("object"==typeof t){if("object"==typeof e)return t.x*e.y-t.y*e.x;if("number"==typeof e)return new this(e*t.y,-e*t.x)}else if("number"==typeof t&&"object"==typeof e)return new this(-t*e.y,t*e.x)}static scale(t,e){return new this({x:t.x*e,y:t.y*e})}static magnitude(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}static distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}static normalize(t){let e=d.length(t);return new this(t.x/e,t.y/e)}static clamp(t,e,n){let s=Math.max(Math.min(t.x,n.x),e.x),o=Math.max(Math.min(t.y,n.y),e.y);return new d(s,o)}}var c=d;class h extends c{constructor(t,e){super(t,e),this.previous={x:this.x,y:this.y}}}h.id="position";var p=h;class l extends c{constructor(t,e){super(t,e)}}l.id="velocity";var m=l;class u{constructor(t){this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1}}u.id="gravity";var y=u;class w extends c{constructor(t,e){super(t,e)}}w.id="force";var v=w;class C{constructor(t){this.mass="object"==typeof t?void 0!==t.mass?t.mass:1:void 0!==t?t:1,this.inverseMass=0===this.mass?0:1/this.mass}}C.id="mass";var x=C;class f{constructor(t){switch(this.type=void 0!==t.type?t.type:f.TYPE.RECT,this.type){case f.TYPE.RECT:case f.TYPE.TRIANGLE:this.width=void 0!==t.width?t.width:0,this.height=void 0!==t.height?t.height:0;break;case f.TYPE.CIRCLE:this.radius=void 0!==t.radius?t.radius:0}}}f.id="shape",f.TYPE={RECT:1,CIRCLE:2,TRIANGLE:3};var g=f;class E{constructor(t){this.restitution=t.restitution,this.density=t.density,this.type=t.type}getStaticFriction(t){return this.constructor.FRICTION[this.type][t.type].STATIC}getKineticFriction(t){return this.constructor.FRICTION[this.type][t.type].KINETIC}static getStaticFriction(t,e){return this.FRICTION[t.type][e.type].STATIC}static getDynamicFriction(t,e){return this.FRICTION[t.type][e.type].KINETIC}static getRestitution(t,e){return Math.min(t.restitution,e.restitution)}}E.id="material",E.TYPE={STEEL:"STEEL",WOOD:"WOOD",RUBBER:"RUBBER",GLASS:"GLASS",CONCRETE:"CONCRETE"},E.FRICTION={STEEL:{STEEL:{STATIC:.78,KINETIC:.42}},WOOD:{WOOD:{STATIC:.5,KINETIC:.2},CONCRETE:{STATIC:.62}},RUBBER:{CONCRETE:{STATIC:1,KINETIC:.8}},GLASS:{GLASS:{STATIC:.94,KINETIC:.4}}};var T=E;class b{constructor(t){this.keys=t&&t.keys||{}}}b.id="input";var I=b;class S{constructor(t){this.shape=t.shape}}S.id="collision";var M=S;class B{constructor(t){this._states={},this._keyDownHandler=this._onKeyDown.bind(this),this._keyUpHandler=this._onKeyUp.bind(this),this.start()}_onKeyDown(t){t.preventDefault(),this._states[t.keyCode]=!0}_onKeyUp(t){t.preventDefault(),this._states[t.keyCode]=!1}isPressed(t){return this._states[t]}start(){window.addEventListener("keydown",this._keyDownHandler,!1),window.addEventListener("keyup",this._keyUpHandler,!1)}stop(){window.removeEventListener("keydown",this._keyDownHandler,!1),window.removeEventListener("keyup",this._keyUpHandler,!1)}update(t,e){var n,s;for(n=0,s=t.length;n<s;n++){let s=t[n],o=s.components.input;if(o)for(let t in o.keys)this.isPressed(t)&&o.keys[t](s,e)}}}B.KEYS={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ENTER:13};var A=B;var P=class{constructor(t){this.timeStep=void 0!==t.timeStep?t.timeStep:1/60,this.gravity=void 0!==t.gravity?t.gravity:{x:0,y:9.81}}update(t,e){for(var n=0,s=t.length;n<s;n++){let e=t[n],s=e.components.position,o=e.components.velocity,i=e.components.gravity,a=e.components.force,r=new c(0,0),d=e.components.mass?e.components.mass.mass:0,h=e.components.mass?e.components.mass.inverseMass:0;s&&(s.previous.x=s.x,s.previous.y=s.y),0!==d&&(i&&r.add(c.scale(this.gravity,i.gravityScale).scale(d)),a&&(r.add(a),a.x=0,a.y=0)),this.integrateSymplecticAverage(s,o,r,h,this.timeStep)}}integrateSymplectic(t,e,n,s,o){e.add(c.scale(n,s).scale(o)),t.add(c.scale(e,o))}integrateSymplecticAverage(t,e,n,s,o){let i=c.scale(n,s).scale(o);t.add(c.add(e,i.scale(.5)).scale(o)),e.add(i)}};var R=class{constructor(t){this.positionCorrectionFactor=void 0!==t.positionCorrectionFactor?t.positionCorrectionFactor:.2,this.positionCorrectionThreshold=void 0!==t.positionCorrectionThreshold?t.positionCorrectionThreshold:.01}update(t,e){var n=[];for(let s of t)if(s.components.collision){let t=e.getCollisionCandidates(s);for(let e of t){let t={a:s,b:e};this.checkCollision(s,e,t)&&n.push(t)}}for(let t of n)this.resolveCollision(t),this.correctPosition(t)}checkCollision(t,e,n){var s=this.getBoundingShape(t),o=this.getBoundingShape(e),i=this.getCollisionAlgorithm(s,o);return!!i&&i(s,o,n)}getBoundingShape(t){var e=t.components.position,n=t.components.orientation,s=t.components.collision.shape;switch(s.type){case g.TYPE.RECT:return n?this.getOBB(e,n,s):this.getAABB(e,s);case g.TYPE.CIRCLE:return this.getBC(e,s)}}getCollisionAlgorithm(t,e){return this[t.type+"vs"+e.type].bind(this)||void 0}getAABB(t,e){var n=t.clone();return n.extend=new c({x:e.width/2,y:e.height/2}),n.min=new c({x:t.x-n.extend.x,y:t.y-n.extend.y}),n.max=new c({x:t.x+n.extend.x,y:t.y+n.extend.y}),n.type="AABB",n}getOBB(t,e,n){var s=t.clone();return s.extend=new c({x:n.width/2,y:n.height/2}),s.min=new c({x:t.x-s.extend.x,y:t.y-s.extend.y}),s.max=new c({x:t.x+s.extend.x,y:t.y+s.extend.y}),s.type="OBB",s}getBC(t,e){var n=t.clone();return n.radius=e.radius,n.type="BC",n}AABBvsAABB(t,e,n){var s=c.subtract(e,t),o=t.extend.x+e.extend.x-Math.abs(s.x);if(o>=0){var i=t.extend.y+e.extend.y-Math.abs(s.y);if(i>=0)return o<=i?(s.x<0?n.normal=new c({x:-1,y:0}):n.normal=new c({x:1,y:0}),n.penetration=o):(s.y<0?n.normal=new c({x:0,y:-1}):n.normal=new c({x:0,y:1}),n.penetration=i),!0}return!1}BCvsBC(t,e,n){var s=c.subtract(e,t),o=t.radius+e.radius,i=Math.pow(s.x,2)+Math.pow(s.y,2);return i<=Math.pow(o,2)&&(0!==(i=Math.sqrt(i))?(n.penetration=o-i,n.normal=s.scale(1/i)):(n.penetration=t.radius,n.normal=new c({x:1,y:0})),!0)}AABBvsBC(t,e,n){var s=c.subtract(e,t),o=c.clamp(s,c.scale(t.extend,-1),t.extend),i=c.subtract(s,o),a=e.radius,r=Math.pow(i.x,2)+Math.pow(i.y,2);return r<=Math.pow(a,2)&&(r=Math.sqrt(r),n.normal=i.scale(1/r),n.penetration=a-r,!0)}BCvsAABB(t,e,n){var s=this.AABBvsBC(e,t,n);return s&&n.normal.scale(-1),s}resolveCollision(t){var e=t.a,n=t.b,s=e.components.velocity,o=n.components.velocity,i=e.components.material,a=n.components.material,r=e.components.mass,d=n.components.mass,h=c.subtract(o,s),p=c.dotProduct(h,t.normal);if(!(p>0)){var l=T.getRestitution(i,a),m=r.inverseMass+d.inverseMass,u=-(1+l)*p/m,y=c.scale(t.normal,u);s.subtract(c.scale(y,r.inverseMass)),o.add(c.scale(y,d.inverseMass));var w=new c(-t.normal.y,t.normal.x);if(0!==(p=h.dotProduct(w))){p<0&&w.scale(-1);var v,C=(p<0?p:-p)/m,x=T.getStaticFriction(i,a),f=T.getDynamicFriction(i,a);v=Math.abs(C)<u*x?c.scale(w,C):c.scale(w,-u*f),s.subtract(c.scale(v,r.inverseMass)),o.add(c.scale(v,d.inverseMass))}}}correctPosition(t){var e=t.penetration-this.positionCorrectionThreshold;if(e>0){let n=t.a,s=t.b,o=e/(n.components.mass.inverseMass+s.components.mass.inverseMass)*this.positionCorrectionFactor,i=c.scale(t.normal,o);n.components.position.subtract(c.scale(i,n.components.mass.inverseMass)),s.components.position.add(c.scale(i,s.components.mass.inverseMass))}}};const _=2*Math.PI;Math.PI,Math.PI;var O=class{constructor(t){this.context=t.context,this.viewport={width:this.context.canvas.width,height:this.context.canvas.height,x:0,y:0,scaleX:20,scaleY:20},this.isEmpty=!0,this.enableBuffering=t.enableBuffering||!0,this.enableAntialias=t.enableAntialias||!0,this.enableSmoothing=t.enableSmoothing||!0}update(t,e){var n,s;for(this.context.clearRect(0,0,this.viewport.width,this.viewport.height),this.context.globalAlpha=1,this.context.fillStyle="#000",this.context.strokeStyle="#000",this.context.lineWidth=1,n=0,s=t.length;n<s;n++){let e=t[n];e.components.position&&e.components.shape?this.renderShape(this.context,e.components.position,e.components.shape):e.components.position&&e.components.sprite}}renderShape(t,e,n){switch(t.save(),t.transform(1,0,0,1,e.x*this.viewport.scaleX,e.y*this.viewport.scaleY),n.type){case g.TYPE.RECT:let s=n.width*this.viewport.scaleX,o=n.height*this.viewport.scaleY;t.fillRect(-s/2,-o/2,s,o);break;case g.TYPE.CIRCLE:let i=n.radius*this.viewport.scaleX;t.beginPath(),t.arc(0,0,i,0,_),t.fill();break;case g.TYPE.TRIANGLE:let a=n.width*this.viewport.scaleX/2,r=n.height*this.viewport.scaleY/2;t.beginPath(),t.moveTo(0,-r),t.lineTo(-a,r),t.lineTo(a,r),t.lineTo(0,-r),t.fill()}t.restore()}};!function(t){var e=document.getElementById("game"),n=document.createElement("canvas");n.width=e.clientWidth,n.height=e.clientHeight,e.appendChild(n);var o,a,r,d=new s({width:40,height:30});d.addSystem(new A({})),d.addSystem(new P({})),d.addSystem(new R({})),d.addSystem(new O({context:n.getContext("2d")})),o=new g({type:g.TYPE.CIRCLE,radius:1}),a=new T({restitution:.5,density:1,type:T.TYPE.WOOD}),r=(new i).addComponent(new p({x:4,y:3})).addComponent(new m({x:2,y:0})).addComponent(new y({})).addComponent(new M({shape:o})).addComponent(new x({mass:1})).addComponent(a).addComponent(o),d.addEntity(r),o=new g({type:g.TYPE.RECT,width:1.5,height:1.5}),r=(new i).addComponent(new p({x:6.5,y:3})).addComponent(new m({x:0,y:0})).addComponent(new y({})).addComponent(new M({shape:o})).addComponent(new x({mass:.5})).addComponent(a).addComponent(o),d.addEntity(r),r=(new i).addComponent(new p({x:8,y:20})).addComponent(new m({x:0,y:0})).addComponent(new M({shape:o})).addComponent(new x({mass:0})).addComponent(a).addComponent(o),d.addEntity(r),o=new g({type:g.TYPE.CIRCLE,radius:1}),r=(new i).addComponent(new p({x:10,y:10})).addComponent(new m({x:0,y:0})).addComponent(new v({})).addComponent(new M({shape:o})).addComponent(new x({mass:2})).addComponent(new I({keys:{37:function(t,e){t.components.force.x-=20},38:function(t,e){t.components.force.y-=20},39:function(t,e){t.components.force.x+=20},40:function(t,e){t.components.force.y+=20}}})).addComponent(a).addComponent(o),d.addEntity(r),o=new g({type:g.TYPE.RECT,width:38,height:1}),r=(new i).addComponent(new p(20,29)).addComponent(new m(0,0)).addComponent(new x(0)).addComponent(a).addComponent(o).addComponent(new M({shape:o})),d.addEntity(r),r=(new i).addComponent(new p(20,1)).addComponent(new m(0,0)).addComponent(new x(0)).addComponent(a).addComponent(o).addComponent(new M({shape:o})),d.addEntity(r),o=new g({type:g.TYPE.RECT,width:1,height:25}),r=(new i).addComponent(new p(1,15)).addComponent(new m(0,0)).addComponent(new x(0)).addComponent(a).addComponent(o).addComponent(new M({shape:o})),d.addEntity(r),r=(new i).addComponent(new p(39,15)).addComponent(new m(0,0)).addComponent(new x(0)).addComponent(a).addComponent(o).addComponent(new M({shape:o})),d.addEntity(r),t.world=d;var c={requestId:0,time:0,delta:0,accumulator:0,step:1e3/60,start:function(){this.requestId=t.requestAnimationFrame(this.loop.bind(this))},pause:function(){t.cancelAnimationFrame(this.requestId)},stop:function(){t.cancelAnimationFrame(this.requestId)},step:function(){d.update()},loop:function(e){d.update(),this.requestId=t.requestAnimationFrame(this.loop.bind(this))}},h=document.getElementById("start"),l=document.getElementById("pause"),u=document.getElementById("step"),w=document.getElementById("stop"),C=document.getElementById("smoothing");h.addEventListener("click",function(){c.start()},!1),l.addEventListener("click",function(){c.pause()},!1),u.addEventListener("click",function(){c.step()},!1),w.addEventListener("click",function(){c.stop()},!1),C.addEventListener("change",function(){c.enableSmoothing=C.checked},!1)}(window)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS93b3JsZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXJjYWRlL2VudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXJjYWRlL2NvbXBvbmVudHMvdmVjdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvY29tcG9uZW50cy9wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXJjYWRlL2NvbXBvbmVudHMvdmVsb2NpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS9jb21wb25lbnRzL2dyYXZpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS9jb21wb25lbnRzL2ZvcmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvY29tcG9uZW50cy9tYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvY29tcG9uZW50cy9zaGFwZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXJjYWRlL2NvbXBvbmVudHMvbWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS9jb21wb25lbnRzL2lucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvY29tcG9uZW50cy9jb2xsaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS9zeXN0ZW1zL2lucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvc3lzdGVtcy9waHlzaWNzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcmNhZGUvc3lzdGVtcy9jb2xsaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FyY2FkZS9zeXN0ZW1zL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdGVzdC1hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcmNhZGVfd29ybGQiLCJbb2JqZWN0IE9iamVjdF0iLCJvcHRpb25zIiwidGhpcyIsIl9zeXN0ZW1zIiwiX2VudGl0aWVzIiwiX2NvbGxpZGFibGVzIiwic3lzdGVtIiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImVudGl0eSIsImlkIiwiY29tcG9uZW50cyIsImNvbGxpc2lvbiIsImZpbHRlciIsImNvbGxpZGFibGUiLCJmb3JFYWNoIiwidXBkYXRlIiwiRW50aXR5IiwiY3JlYXRlVW5pcXVlSWQiLCJjb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsIl9jb3VudCIsImFyY2FkZV9lbnRpdHkiLCJQSSIsIk1hdGgiLCJQSV9ET1VCTEUiLCJWZWN0b3IiLCJ4IiwieSIsInVuZGVmaW5lZCIsInZlY3RvcnMiLCJsZW5ndGgiLCJ2ZWN0b3IiLCJiIiwiZmFjdG9yIiwic3FydCIsInBvdyIsImFjb3MiLCJhbmdsZSIsImNvcyIsInNpbiIsInZlY3RvcjEiLCJ2ZWN0b3IyIiwiYSIsIm1pbiIsIm1heCIsInBvc2l0aW9uX1Bvc2l0aW9uIiwic3VwZXIiLCJwcmV2aW91cyIsImNvbXBvbmVudHNfcG9zaXRpb24iLCJ2ZWxvY2l0eV9WZWxvY2l0eSIsImNvbXBvbmVudHNfdmVsb2NpdHkiLCJHcmF2aXR5IiwiZ3Jhdml0eVNjYWxlIiwiY29tcG9uZW50c19ncmF2aXR5IiwiZm9yY2VfRm9yY2UiLCJjb21wb25lbnRzX2ZvcmNlIiwiTWFzcyIsIm1hc3MiLCJpbnZlcnNlTWFzcyIsImNvbXBvbmVudHNfbWFzcyIsIlNoYXBlIiwidHlwZSIsIlRZUEUiLCJSRUNUIiwiVFJJQU5HTEUiLCJ3aWR0aCIsImhlaWdodCIsIkNJUkNMRSIsInJhZGl1cyIsImNvbXBvbmVudHNfc2hhcGUiLCJNYXRlcmlhbCIsInJlc3RpdHV0aW9uIiwiZGVuc2l0eSIsIm1hdGVyaWFsIiwiRlJJQ1RJT04iLCJTVEFUSUMiLCJLSU5FVElDIiwiU1RFRUwiLCJXT09EIiwiUlVCQkVSIiwiR0xBU1MiLCJDT05DUkVURSIsImNvbXBvbmVudHNfbWF0ZXJpYWwiLCJJbnB1dCIsImtleXMiLCJpbnB1dCIsIkNvbGxpc2lvbiIsInNoYXBlIiwiY29tcG9uZW50c19jb2xsaXNpb24iLCJJbnB1dFN5c3RlbSIsIl9zdGF0ZXMiLCJfa2V5RG93bkhhbmRsZXIiLCJfb25LZXlEb3duIiwiX2tleVVwSGFuZGxlciIsIl9vbktleVVwIiwic3RhcnQiLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwia2V5Q29kZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZW50aXRpZXMiLCJ3b3JsZCIsImNvdW50IiwiaXNQcmVzc2VkIiwiS0VZUyIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIlNQQUNFIiwiRU5URVIiLCJzeXN0ZW1zX2lucHV0IiwicGh5c2ljcyIsInRpbWVTdGVwIiwiZ3Jhdml0eSIsInBvc2l0aW9uIiwidmVsb2NpdHkiLCJmb3JjZSIsInRvdGFsRm9yY2UiLCJhZGQiLCJzY2FsZSIsImludGVncmF0ZVN5bXBsZWN0aWNBdmVyYWdlIiwiZHQiLCJhY2NlbGVyYXRpb24iLCJzeXN0ZW1zX2NvbGxpc2lvbiIsInBvc2l0aW9uQ29ycmVjdGlvbkZhY3RvciIsInBvc2l0aW9uQ29ycmVjdGlvblRocmVzaG9sZCIsImNvbGxpc2lvbnMiLCJjYW5kaWRhdGVzIiwiZ2V0Q29sbGlzaW9uQ2FuZGlkYXRlcyIsImNhbmRpZGF0ZSIsImNoZWNrQ29sbGlzaW9uIiwicmVzb2x2ZUNvbGxpc2lvbiIsImNvcnJlY3RQb3NpdGlvbiIsImVudGl0eUEiLCJlbnRpdHlCIiwic2hhcGVBIiwiZ2V0Qm91bmRpbmdTaGFwZSIsInNoYXBlQiIsImFsZ29yaXRobSIsImdldENvbGxpc2lvbkFsZ29yaXRobSIsIm9yaWVudGF0aW9uIiwiZ2V0T0JCIiwiZ2V0QUFCQiIsImdldEJDIiwiYWFiYiIsImNsb25lIiwiZXh0ZW5kIiwib2JiIiwiYmMiLCJub3JtYWwiLCJzdWJ0cmFjdCIsInhPdmVybGFwIiwiYWJzIiwieU92ZXJsYXAiLCJwZW5ldHJhdGlvbiIsIm1pbkRpc3RhbmNlIiwiZGlzdGFuY2UiLCJhYiIsImNsb3Nlc3QiLCJjbGFtcCIsInJlc3VsdCIsIkFBQkJ2c0JDIiwibWFuaWZvbGQiLCJ2ZWxvY2l0eUEiLCJ2ZWxvY2l0eUIiLCJtYXRlcmlhbEEiLCJtYXRlcmlhbEIiLCJtYXNzQSIsIm1hc3NCIiwicmVsYXRpdmVWZWxvY2l0eSIsInZlbG9jaXR5UHJvamVjdGlvbiIsImRvdFByb2R1Y3QiLCJnZXRSZXN0aXR1dGlvbiIsInRvdGFsSW52ZXJzZU1hc3MiLCJub3JtYWxJbXB1bHNlU2NhbGFyIiwibm9ybWFsSW1wdWxzZSIsInRhbmdlbnQiLCJmcmljdGlvbkltcHVsc2UiLCJmcmljdGlvbkltcHVsc2VTY2FsYXIiLCJzdGF0aWNGcmljdGlvbiIsImdldFN0YXRpY0ZyaWN0aW9uIiwiZHluYW1pY0ZyaWN0aW9uIiwiZ2V0RHluYW1pY0ZyaWN0aW9uIiwiY29ycmVjdGlvblNjYWxhciIsImNvcnJlY3Rpb25WZWN0b3IiLCJyZW5kZXJfUElfRE9VQkxFIiwicmVuZGVyIiwiY29udGV4dCIsInZpZXdwb3J0IiwiY2FudmFzIiwic2NhbGVYIiwic2NhbGVZIiwiaXNFbXB0eSIsImVuYWJsZUJ1ZmZlcmluZyIsImVuYWJsZUFudGlhbGlhcyIsImVuYWJsZVNtb290aGluZyIsImNsZWFyUmVjdCIsImdsb2JhbEFscGhhIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJyZW5kZXJTaGFwZSIsInNwcml0ZSIsInNhdmUiLCJ0cmFuc2Zvcm0iLCJmaWxsUmVjdCIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJtb3ZlVG8iLCJsaW5lVG8iLCJyZXN0b3JlIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJhcHBlbmRDaGlsZCIsImFkZFN5c3RlbSIsImdldENvbnRleHQiLCJhZGRDb21wb25lbnQiLCJhZGRFbnRpdHkiLCIzNyIsIjM4IiwiMzkiLCI0MCIsImdhbWUiLCJyZXF1ZXN0SWQiLCJ0aW1lIiwiZGVsdGEiLCJhY2N1bXVsYXRvciIsInN0ZXAiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb29wIiwicGF1c2UiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInN0b3AiLCJzbW9vdGhpbmciLCJjaGVja2VkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFB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RCxXQUVyQ2dCLEVBQUEwSCxVQUFBek4sR0FFQTJGLEVBQUFJLFFBSUEsSUFBQStILEdBRUFDLFVBQUEsRUFDQUMsS0FBQSxFQUNBQyxNQUFBLEVBQ0FDLFlBQUEsRUFDQUMsS0FBQSxPQUVBNUksTUFBQSxXQUNBaEcsS0FBQXdPLFVBQUFwSSxFQUFBeUksc0JBQUE3TyxLQUFBOE8sS0FBQXpQLEtBQUFXLFFBR0ErTyxNQUFBLFdBQ0EzSSxFQUFBNEkscUJBQUFoUCxLQUFBd08sWUFHQVMsS0FBQSxXQUNBN0ksRUFBQTRJLHFCQUFBaFAsS0FBQXdPLFlBR0FJLEtBQUEsV0FDQXBJLEVBQUF4RixVQUdBOE4sS0FBQSxTQUFBTCxHQTJCQWpJLEVBQUF4RixTQUNBaEIsS0FBQXdPLFVBQUFwSSxFQUFBeUksc0JBQUE3TyxLQUFBOE8sS0FBQXpQLEtBQUFXLFNBSUFnRyxFQUFBeUgsU0FBQUMsZUFBQSxTQUNBcUIsRUFBQXRCLFNBQUFDLGVBQUEsU0FDQWtCLEVBQUFuQixTQUFBQyxlQUFBLFFBQ0F1QixFQUFBeEIsU0FBQUMsZUFBQSxRQUNBd0IsRUFBQXpCLFNBQUFDLGVBQUEsYUFFQTFILEVBQUFLLGlCQUFBLG1CQUNBa0ksRUFBQXZJLFVBQ0ssR0FFTCtJLEVBQUExSSxpQkFBQSxtQkFDQWtJLEVBQUFRLFVBQ0ssR0FFTEgsRUFBQXZJLGlCQUFBLG1CQUNBa0ksRUFBQUssU0FDSyxHQUVMSyxFQUFBNUksaUJBQUEsbUJBQ0FrSSxFQUFBVSxTQUNLLEdBRUxDLEVBQUE3SSxpQkFBQSxvQkFDQWtJLEVBQUFoQyxnQkFBQTJDLEVBQUFDLFVBQ0ssR0EzUkwsQ0E2UkMvSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY2xhc3MgV29ybGQge1xuXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLl9zeXN0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgICAgIHRoaXMuX2NvbGxpZGFibGVzID0gW107XG4gICAgfVxuXG4gICAgYWRkU3lzdGVtIChzeXN0ZW0pIHtcblxuICAgICAgICB0aGlzLl9zeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICB9XG5cbiAgICByZW1vdmVTeXN0ZW0gKHN5c3RlbSkge1xuXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX3N5c3RlbXMuaW5kZXhPZihzeXN0ZW0pO1xuXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3N5c3RlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEVudGl0eSAoZW50aXR5KSB7XG5cbiAgICAgICAgdGhpcy5fZW50aXRpZXNbZW50aXR5LmlkXSA9IGVudGl0eTtcblxuICAgICAgICBpZiAoZW50aXR5LmNvbXBvbmVudHMuY29sbGlzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9jb2xsaWRhYmxlcy5wdXNoKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVFbnRpdHkgKGVudGl0eSkge1xuXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLnNwbGljZShlbnRpdHkuaWQsIDEpO1xuXG4gICAgICAgIGlmIChlbnRpdHkuY29tcG9uZW50cy5jb2xsaXNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxpZGFibGVzLnNwbGljZSh0aGlzLl9jb2xsaWRhYmxlcy5pbmRleE9mKGVudGl0eSksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q29sbGlzaW9uQ2FuZGlkYXRlcyAoZW50aXR5KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxpZGFibGVzLmZpbHRlcihmdW5jdGlvbiAoY29sbGlkYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxpZGFibGUgIT09IGVudGl0eTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlICgpIHtcblxuICAgICAgICB0aGlzLl9zeXN0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHN5c3RlbSkge1xuXG4gICAgICAgICAgICBzeXN0ZW0udXBkYXRlKHRoaXMuX2VudGl0aWVzLCB0aGlzKTtcblxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV29ybGQ7XG4iLCJjbGFzcyBFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLmlkID0gRW50aXR5LmNyZWF0ZVVuaXF1ZUlkKCk7XG5cbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0ge307XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50IChjb21wb25lbnQpIHtcblxuICAgICAgICB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50LmNvbnN0cnVjdG9yLmlkXSA9IGNvbXBvbmVudDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRDb21wb25lbnQgKGlkKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50c1tpZF07XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50IChjb21wb25lbnQpIHtcblxuICAgICAgICBkZWxldGUgdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudC5jb25zdHJ1Y3Rvci5pZF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKSB7fVxuXG4gICAgc3RhdGljIGNyZWF0ZVVuaXF1ZUlkICgpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY291bnQrKztcbiAgICB9XG59XG5cbkVudGl0eS5fY291bnQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCBFbnRpdHk7XG4iLCJjb25zdCBQSSA9IE1hdGguUEk7XG5jb25zdCBQSV9ET1VCTEUgPSAyICogUEk7XG5jb25zdCBQSV9IQUxGID0gMC41ICogUEk7XG5cbmNsYXNzIFZlY3RvciB7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfG9iamVjdH0geCAgICAgVGhlIHggY29vcmRpbmF0ZSBvciBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeV0gICAgICAgICAgVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgdmVjdG9yIGlmIGZpcnN0IHBhcmFtZXRlciBpcyB0aGUgeCBjb29yZGluYXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKHgsIHkpIHtcblxuICAgICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy54ID0geC54ICE9PSB1bmRlZmluZWQgPyB4LnggOiAwO1xuICAgICAgICAgICAgdGhpcy55ID0geC55ICE9PSB1bmRlZmluZWQgPyB4LnkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54ID0geCAhPT0gdW5kZWZpbmVkID8geCA6IDA7XG4gICAgICAgICAgICB0aGlzLnkgPSB5ICE9PSB1bmRlZmluZWQgPyB5IDogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZCAoLi4udmVjdG9ycykge1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSB2ZWN0b3JzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnggKz0gdmVjdG9yc1tpXS54O1xuICAgICAgICAgICAgdGhpcy55ICs9IHZlY3RvcnNbaV0ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1YnRyYWN0ICguLi52ZWN0b3JzKSB7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHZlY3RvcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMueCAtPSB2ZWN0b3JzW2ldLng7XG4gICAgICAgICAgICB0aGlzLnkgLT0gdmVjdG9yc1tpXS55O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbXVsdGlwbHkgKC4uLnZlY3RvcnMpIHtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gdmVjdG9ycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy54ICo9IHZlY3RvcnNbaV0ueDtcbiAgICAgICAgICAgIHRoaXMueSAqPSB2ZWN0b3JzW2ldLnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBkb3RQcm9kdWN0ICh2ZWN0b3IpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy54ICogdmVjdG9yLnggKyB0aGlzLnkgKiB2ZWN0b3IueTtcbiAgICB9XG5cbiAgICBjcm9zc1Byb2R1Y3QgKGIpIHtcblxuICAgICAgICBpZiAodHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoYiAqIHRoaXMueSwgLWIgKiB0aGlzLngpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCAqIGIueSAtIHRoaXMueSAqIGIueDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjYWxlIChmYWN0b3IpIHtcblxuICAgICAgICB0aGlzLnggKj0gZmFjdG9yO1xuICAgICAgICB0aGlzLnkgKj0gZmFjdG9yO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxlbmd0aCAoKSB7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngsIDIpICsgTWF0aC5wb3codGhpcy55LCAyKSk7XG4gICAgfVxuXG4gICAgb3JpZW50YXRpb24gKCkge1xuXG4gICAgICAgIGxldCBvcmllbnRhdGlvbiA9IE1hdGguYWNvcyh0aGlzLnggLyB0aGlzLmxlbmd0aCgpKTtcblxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb24gKiAoKHRoaXMueSA8IDApID8gLTEgOiAxKTtcbiAgICB9XG5cbiAgICByb3RhdGUgKGFuZ2xlKSB7XG5cbiAgICAgICAgYW5nbGUgPSBhbmdsZSAlIFBJX0RPVUJMRTtcblxuICAgICAgICBpZiAoYW5nbGUgPiBQSSkge1xuICAgICAgICAgICAgYW5nbGUgPSAtUElfRE9VQkxFICsgYW5nbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW5nbGUgPCAtUEkpIHtcbiAgICAgICAgICAgIGFuZ2xlID0gUElfRE9VQkxFICsgYW5nbGU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBsZXQgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIGxldCB4ID0gdGhpcy54ICogY29zIC0gdGhpcy55ICogc2luO1xuICAgICAgICBsZXQgeSA9IHRoaXMueCAqIHNpbiArIHRoaXMueSAqIGNvcztcblxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZSAoKSB7XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG5cbiAgICAgICAgdGhpcy54IC89IGxlbmd0aDtcbiAgICAgICAgdGhpcy55IC89IGxlbmd0aDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbG9uZSAoKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkICguLi52ZWN0b3JzKSB7XG5cbiAgICAgICAgbGV0IHggPSB2ZWN0b3JzWzBdLngsXG4gICAgICAgICAgICB5ID0gdmVjdG9yc1swXS55O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBsZW5ndGggPSB2ZWN0b3JzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4ICs9IHZlY3RvcnNbaV0ueDtcbiAgICAgICAgICAgIHkgKz0gdmVjdG9yc1tpXS55O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgsIHkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdWJ0cmFjdCAoLi4udmVjdG9ycykge1xuXG4gICAgICAgIGxldCB4ID0gdmVjdG9yc1swXS54LFxuICAgICAgICAgICAgeSA9IHZlY3RvcnNbMF0ueTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMSwgbGVuZ3RoID0gdmVjdG9ycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeCAtPSB2ZWN0b3JzW2ldLng7XG4gICAgICAgICAgICB5IC09IHZlY3RvcnNbaV0ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh4LCB5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHkgKC4uLnZlY3RvcnMpIHtcblxuICAgICAgICBsZXQgeCA9IHZlY3RvcnNbMF0ueCxcbiAgICAgICAgICAgIHkgPSB2ZWN0b3JzWzBdLnk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGxlbmd0aCA9IHZlY3RvcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHggKj0gdmVjdG9yc1tpXS54O1xuICAgICAgICAgICAgeSAqPSB2ZWN0b3JzW2ldLnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeCwgeSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRvdFByb2R1Y3QgKHZlY3RvcjEsIHZlY3RvcjIpIHtcblxuICAgICAgICByZXR1cm4gdmVjdG9yMS54ICogdmVjdG9yMi54ICsgdmVjdG9yMS55ICogdmVjdG9yMi55O1xuICAgIH1cblxuICAgIHN0YXRpYyBjcm9zc1Byb2R1Y3QgKGEsIGIpIHtcblxuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBhLnggKiBiLnkgLSBhLnkgKiBiLng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYiA9PT0gJ251bWJlcicpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyhiICogYS55LCAtYiAqIGEueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcygtYSAqIGIueSwgYSAqIGIueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHN0YXRpYyBzY2FsZSAodmVjdG9yLCBmYWN0b3IpIHtcblxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeyB4OiB2ZWN0b3IueCAqIGZhY3RvciwgeTogdmVjdG9yLnkgKiBmYWN0b3IgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hZ25pdHVkZSAodmVjdG9yKSB7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh2ZWN0b3IueCwgMikgKyBNYXRoLnBvdyh2ZWN0b3IueSwgMikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkaXN0YW5jZSAodmVjdG9yMSwgdmVjdG9yMikge1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codmVjdG9yMS54IC0gdmVjdG9yMi54LCAyKSArIE1hdGgucG93KHZlY3RvcjEueSAtIHZlY3RvcjIueSwgMikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBub3JtYWxpemUgKHZlY3Rvcikge1xuXG4gICAgICAgIGxldCBsZW5ndGggPSBWZWN0b3IubGVuZ3RoKHZlY3Rvcik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHZlY3Rvci54IC8gbGVuZ3RoLCB2ZWN0b3IueSAvIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsYW1wICh2ZWN0b3IsIG1pbiwgbWF4KSB7XG5cbiAgICAgICAgbGV0IHggPSBNYXRoLm1heChNYXRoLm1pbih2ZWN0b3IueCwgbWF4LngpLCBtaW4ueCk7XG4gICAgICAgIGxldCB5ID0gTWF0aC5tYXgoTWF0aC5taW4odmVjdG9yLnksIG1heC55KSwgbWluLnkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yO1xuIiwiaW1wb3J0IFZlY3RvciBmcm9tICcuL3ZlY3Rvcic7XG5cbmNsYXNzIFBvc2l0aW9uIGV4dGVuZHMgVmVjdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yICh4LCB5KSB7XG5cbiAgICAgICAgc3VwZXIoeCwgeSk7XG5cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuUG9zaXRpb24uaWQgPSAncG9zaXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBQb3NpdGlvbjtcbiIsImltcG9ydCBWZWN0b3IgZnJvbSAnLi92ZWN0b3InO1xuXG5jbGFzcyBWZWxvY2l0eSBleHRlbmRzIFZlY3RvciB7XG5cbiAgICBjb25zdHJ1Y3RvciAoeCwgeSkge1xuXG4gICAgICAgIHN1cGVyKHgsIHkpO1xuICAgIH1cbn1cblxuVmVsb2NpdHkuaWQgPSAndmVsb2NpdHknO1xuXG5leHBvcnQgZGVmYXVsdCBWZWxvY2l0eTtcbiIsImNsYXNzIEdyYXZpdHkge1xuXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLmdyYXZpdHlTY2FsZSA9IG9wdGlvbnMuZ3Jhdml0eVNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmdyYXZpdHlTY2FsZSA6IDE7XG4gICAgfVxufVxuXG5HcmF2aXR5LmlkID0gJ2dyYXZpdHknO1xuXG5leHBvcnQgZGVmYXVsdCBHcmF2aXR5O1xuIiwiaW1wb3J0IFZlY3RvciBmcm9tICcuL3ZlY3Rvcic7XG5cbmNsYXNzIEZvcmNlIGV4dGVuZHMgVmVjdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yICh4LCB5KSB7XG5cbiAgICAgICAgc3VwZXIoeCwgeSk7XG4gICAgfVxufVxuXG5Gb3JjZS5pZCA9ICdmb3JjZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEZvcmNlO1xuIiwiY2xhc3MgTWFzcyB7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfG9iamVjdH0gbWFzcyAgICAgIFRoZSBtYXNzIG9yIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXNzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKG1hc3MpIHtcblxuICAgICAgICBpZiAodHlwZW9mIG1hc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLm1hc3MgPSBtYXNzLm1hc3MgIT09IHVuZGVmaW5lZCA/IG1hc3MubWFzcyA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hc3MgPSBtYXNzICE9PSB1bmRlZmluZWQgPyBtYXNzIDogMTtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICB0aGlzLmludmVyc2VNYXNzID0gdGhpcy5tYXNzID09PSAwID8gMCA6ICgxIC8gdGhpcy5tYXNzKTtcbiAgICB9XG59XG5cbk1hc3MuaWQgPSAnbWFzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IE1hc3M7XG4iLCJjbGFzcyBTaGFwZSB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMudHlwZSAgID0gb3B0aW9ucy50eXBlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnR5cGUgOiBTaGFwZS5UWVBFLlJFQ1Q7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcblxuICAgICAgICAgICAgY2FzZSBTaGFwZS5UWVBFLlJFQ1Q6XG4gICAgICAgICAgICBjYXNlIFNoYXBlLlRZUEUuVFJJQU5HTEU6XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCAgPSBvcHRpb25zLndpZHRoICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndpZHRoIDogMDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhlaWdodCA6IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU2hhcGUuVFlQRS5DSVJDTEU6XG4gICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yYWRpdXMgOiAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5TaGFwZS5pZCA9ICdzaGFwZSc7XG5cblNoYXBlLlRZUEUgPSB7XG4gICAgUkVDVDogMSxcbiAgICBDSVJDTEU6IDIsXG4gICAgVFJJQU5HTEU6IDNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXBlO1xuIiwiY2xhc3MgTWF0ZXJpYWwge1xuXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjtcbiAgICAgICAgdGhpcy5kZW5zaXR5ID0gb3B0aW9ucy5kZW5zaXR5O1xuICAgICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgfVxuXG4gICAgZ2V0U3RhdGljRnJpY3Rpb24gKG1hdGVyaWFsKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuRlJJQ1RJT05bdGhpcy50eXBlXVttYXRlcmlhbC50eXBlXS5TVEFUSUM7XG4gICAgfVxuXG4gICAgZ2V0S2luZXRpY0ZyaWN0aW9uIChtYXRlcmlhbCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLkZSSUNUSU9OW3RoaXMudHlwZV1bbWF0ZXJpYWwudHlwZV0uS0lORVRJQztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0U3RhdGljRnJpY3Rpb24gKGEsIGIpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5GUklDVElPTlthLnR5cGVdW2IudHlwZV0uU1RBVElDO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREeW5hbWljRnJpY3Rpb24gKGEsIGIpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5GUklDVElPTlthLnR5cGVdW2IudHlwZV0uS0lORVRJQztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UmVzdGl0dXRpb24gKGEsIGIpIHtcblxuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgbG9va3VwIHRhYmxlIGZvciByZXN0aXR1dGlvblxuICAgICAgICByZXR1cm4gTWF0aC5taW4oYS5yZXN0aXR1dGlvbiwgYi5yZXN0aXR1dGlvbik7XG4gICAgfVxufVxuXG5NYXRlcmlhbC5pZCA9ICdtYXRlcmlhbCc7XG5cbk1hdGVyaWFsLlRZUEUgPSB7XG4gICAgU1RFRUw6ICdTVEVFTCcsXG4gICAgV09PRDogJ1dPT0QnLFxuICAgIFJVQkJFUjogJ1JVQkJFUicsXG4gICAgR0xBU1M6ICdHTEFTUycsXG4gICAgQ09OQ1JFVEU6ICdDT05DUkVURSdcbn07XG5cbk1hdGVyaWFsLkZSSUNUSU9OID0ge1xuICAgIFNURUVMOiB7XG4gICAgICAgIFNURUVMOiB7XG4gICAgICAgICAgICBTVEFUSUM6IDAuNzgsXG4gICAgICAgICAgICBLSU5FVElDOiAwLjQyXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFdPT0Q6IHtcbiAgICAgICAgV09PRDoge1xuICAgICAgICAgICAgU1RBVElDOiAwLjUsXG4gICAgICAgICAgICBLSU5FVElDOiAwLjJcbiAgICAgICAgfSxcbiAgICAgICAgQ09OQ1JFVEU6IHtcbiAgICAgICAgICAgIFNUQVRJQzogMC42MlxuICAgICAgICB9XG4gICAgfSxcbiAgICBSVUJCRVI6IHtcbiAgICAgICAgQ09OQ1JFVEU6IHtcbiAgICAgICAgICAgIFNUQVRJQzogMS4wLFxuICAgICAgICAgICAgS0lORVRJQzogMC44XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEdMQVNTOiB7XG4gICAgICAgIEdMQVNTOiB7XG4gICAgICAgICAgICBTVEFUSUM6IDAuOTQsXG4gICAgICAgICAgICBLSU5FVElDOiAwLjRcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWF0ZXJpYWw7XG4iLCJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL2NvbW1hbmQnO1xuXG5jbGFzcyBJbnB1dCB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMua2V5cyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5rZXlzIHx8IHt9O1xuICAgIH1cbn1cblxuSW5wdXQuaWQgPSAnaW5wdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBJbnB1dDtcbiIsImNsYXNzIENvbGxpc2lvbiB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMuc2hhcGUgPSBvcHRpb25zLnNoYXBlO1xuICAgIH1cbn1cblxuQ29sbGlzaW9uLmlkID0gJ2NvbGxpc2lvbic7XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxpc2lvbjtcbiIsImNsYXNzIElucHV0U3lzdGVtIHtcblxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG5cbiAgICAgICAgdGhpcy5fc3RhdGVzICAgICAgICAgICAgPSB7fTtcblxuICAgICAgICB0aGlzLl9rZXlEb3duSGFuZGxlciAgICA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9rZXlVcEhhbmRsZXIgICAgICA9IHRoaXMuX29uS2V5VXAuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgX29uS2V5RG93biAoZXZlbnQpIHtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlc1tldmVudC5rZXlDb2RlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgX29uS2V5VXAgKGV2ZW50KSB7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLl9zdGF0ZXNbZXZlbnQua2V5Q29kZV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1ByZXNzZWQgKGtleUNvZGUpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzW2tleUNvZGVdO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2tleURvd25IYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2tleVVwSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cblxuICAgIHN0b3AgKCkge1xuXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fa2V5RG93bkhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fa2V5VXBIYW5kbGVyLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlIChlbnRpdGllcywgd29ybGQpIHtcblxuICAgICAgICB2YXIgaSwgY291bnQ7XG5cbiAgICAgICAgZm9yIChpID0gMCwgY291bnQgPSBlbnRpdGllcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSBlbnRpdGllc1tpXTtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGVudGl0eS5jb21wb25lbnRzLmlucHV0O1xuXG4gICAgICAgICAgICBpZiAoaW5wdXQpIHtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBpbnB1dC5rZXlzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmVzc2VkKGtleSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQua2V5c1trZXldKGVudGl0eSwgd29ybGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dFN5c3RlbS5LRVlTID0ge1xuICAgIExFRlQ6IDM3LFxuICAgIFVQOiAzOCxcbiAgICBSSUdIVDogMzksXG4gICAgRE9XTjogNDAsXG4gICAgU1BBQ0U6IDMyLFxuICAgIEVOVEVSOiAxM1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRTeXN0ZW07XG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvdmVjdG9yJztcblxuY2xhc3MgUGh5c2ljc1N5c3RlbSB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMudGltZVN0ZXAgPSBvcHRpb25zLnRpbWVTdGVwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbWVTdGVwIDogKDEgLyA2MCk7XG5cbiAgICAgICAgdGhpcy5ncmF2aXR5ID0gb3B0aW9ucy5ncmF2aXR5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmdyYXZpdHkgOiB7IHg6IDAsIHk6IDkuODEgfTtcbiAgICB9XG5cbiAgICB1cGRhdGUgKGVudGl0aWVzLCB3b3JsZCkge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbnRpdGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICBsZXQgZW50aXR5ID0gZW50aXRpZXNbaV07XG5cbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiAgICA9IGVudGl0eS5jb21wb25lbnRzLnBvc2l0aW9uO1xuICAgICAgICAgICAgbGV0IHZlbG9jaXR5ICAgID0gZW50aXR5LmNvbXBvbmVudHMudmVsb2NpdHk7XG4gICAgICAgICAgICBsZXQgZ3Jhdml0eSAgICAgPSBlbnRpdHkuY29tcG9uZW50cy5ncmF2aXR5O1xuICAgICAgICAgICAgbGV0IGZvcmNlICAgICAgID0gZW50aXR5LmNvbXBvbmVudHMuZm9yY2U7XG5cbiAgICAgICAgICAgIGxldCB0b3RhbEZvcmNlICA9IG5ldyBWZWN0b3IoMCwgMCk7XG5cbiAgICAgICAgICAgIGxldCBtYXNzICAgICAgICA9IGVudGl0eS5jb21wb25lbnRzLm1hc3MgPyBlbnRpdHkuY29tcG9uZW50cy5tYXNzLm1hc3MgOiAwO1xuICAgICAgICAgICAgbGV0IGludmVyc2VNYXNzID0gZW50aXR5LmNvbXBvbmVudHMubWFzcyA/IGVudGl0eS5jb21wb25lbnRzLm1hc3MuaW52ZXJzZU1hc3MgOiAwO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSBwcmV2aW91cyBwb3NpdGlvbiBmb3Igc21vb3RoaW5nIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ucHJldmlvdXMueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ucHJldmlvdXMueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgb2JqZWN0cyB3aXRoIG1hc3Mgd2lsbCBiZSBhZmZlY3RlZCBieSBmb3JjZXNcbiAgICAgICAgICAgIGlmIChtYXNzICE9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZ3Jhdml0eSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRm9yY2UuYWRkKFZlY3Rvci5zY2FsZSh0aGlzLmdyYXZpdHksIGdyYXZpdHkuZ3Jhdml0eVNjYWxlKS5zY2FsZShtYXNzKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdG90YWxGb3JjZS5hZGQoZm9yY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnggPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3JjZS55ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyB3ZSBjYW4gaW50ZWdyYXRlIHRoZSBuZXcgc3RhdGUgKHBvc2l0aW9uIGFuZCB2ZWxvY2l0eSlcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyYXRlU3ltcGxlY3RpY0F2ZXJhZ2UocG9zaXRpb24sIHZlbG9jaXR5LCB0b3RhbEZvcmNlLCBpbnZlcnNlTWFzcywgdGhpcy50aW1lU3RlcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gdmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gZm9yY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW52ZXJzZU1hc3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHRcbiAgICAgKi9cbiAgICBpbnRlZ3JhdGVTeW1wbGVjdGljIChwb3NpdGlvbiwgdmVsb2NpdHksIGZvcmNlLCBpbnZlcnNlTWFzcywgZHQpIHtcblxuICAgICAgICB2ZWxvY2l0eS5hZGQoVmVjdG9yLnNjYWxlKGZvcmNlLCBpbnZlcnNlTWFzcykuc2NhbGUoZHQpKTtcbiAgICAgICAgcG9zaXRpb24uYWRkKFZlY3Rvci5zY2FsZSh2ZWxvY2l0eSwgZHQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gdmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge1ZlY3Rvcn0gZm9yY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW52ZXJzZU1hc3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHRcbiAgICAgKi9cbiAgICBpbnRlZ3JhdGVTeW1wbGVjdGljQXZlcmFnZSAocG9zaXRpb24sIHZlbG9jaXR5LCBmb3JjZSwgaW52ZXJzZU1hc3MsIGR0KSB7XG5cbiAgICAgICAgbGV0IGFjY2VsZXJhdGlvbiA9IFZlY3Rvci5zY2FsZShmb3JjZSwgaW52ZXJzZU1hc3MpLnNjYWxlKGR0KTtcblxuICAgICAgICBwb3NpdGlvbi5hZGQoVmVjdG9yLmFkZCh2ZWxvY2l0eSwgYWNjZWxlcmF0aW9uLnNjYWxlKDAuNSkpLnNjYWxlKGR0KSk7XG4gICAgICAgIHZlbG9jaXR5LmFkZChhY2NlbGVyYXRpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGh5c2ljc1N5c3RlbTtcbiIsImltcG9ydCBWZWN0b3IgZnJvbSAnLi4vY29tcG9uZW50cy92ZWN0b3InO1xuaW1wb3J0IFNoYXBlIGZyb20gJy4uL2NvbXBvbmVudHMvc2hhcGUnO1xuaW1wb3J0IE1hdGVyaWFsIGZyb20gJy4uL2NvbXBvbmVudHMvbWF0ZXJpYWwnO1xuXG5jbGFzcyBDb2xsaXNpb25TeXN0ZW0ge1xuXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbkZhY3RvciA9IG9wdGlvbnMucG9zaXRpb25Db3JyZWN0aW9uRmFjdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBvc2l0aW9uQ29ycmVjdGlvbkZhY3RvciA6IDAuMjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbkNvcnJlY3Rpb25UaHJlc2hvbGQgPSBvcHRpb25zLnBvc2l0aW9uQ29ycmVjdGlvblRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wb3NpdGlvbkNvcnJlY3Rpb25UaHJlc2hvbGQgOiAwLjAxO1xuICAgIH1cblxuICAgIHVwZGF0ZSAoZW50aXRpZXMsIHdvcmxkKSB7XG5cbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBbXTtcblxuICAgICAgICAvLyBjb2xsZWN0IGFsbCBjb2xsaXNpb25cbiAgICAgICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG5cbiAgICAgICAgICAgIGlmIChlbnRpdHkuY29tcG9uZW50cy5jb2xsaXNpb24pIHtcblxuICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVzID0gd29ybGQuZ2V0Q29sbGlzaW9uQ2FuZGlkYXRlcyhlbnRpdHkpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGlzaW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYTogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYjogY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tDb2xsaXNpb24oZW50aXR5LCBjYW5kaWRhdGUsIGNvbGxpc2lvbikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNvbHZlIGFsbCBjb2xsaXNpb25zXG4gICAgICAgIGZvciAobGV0IGNvbGxpc2lvbiBvZiBjb2xsaXNpb25zKSB7XG5cbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbGxpc2lvbihjb2xsaXNpb24pO1xuICAgICAgICAgICAgdGhpcy5jb3JyZWN0UG9zaXRpb24oY29sbGlzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrQ29sbGlzaW9uIChlbnRpdHlBLCBlbnRpdHlCLCBjb2xsaXNpb24pIHtcblxuICAgICAgICB2YXIgc2hhcGVBID0gdGhpcy5nZXRCb3VuZGluZ1NoYXBlKGVudGl0eUEpO1xuICAgICAgICB2YXIgc2hhcGVCID0gdGhpcy5nZXRCb3VuZGluZ1NoYXBlKGVudGl0eUIpO1xuXG4gICAgICAgIHZhciBhbGdvcml0aG0gPSB0aGlzLmdldENvbGxpc2lvbkFsZ29yaXRobShzaGFwZUEsIHNoYXBlQik7XG5cbiAgICAgICAgaWYgKGFsZ29yaXRobSkge1xuXG4gICAgICAgICAgICByZXR1cm4gYWxnb3JpdGhtKHNoYXBlQSwgc2hhcGVCLCBjb2xsaXNpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYm91bmRpbmcgc2hhcGUgZm9yIGFuIGVudGl0eSBiYXNlZCBvbiBpdHMgY29sbGlzaW9uIHNoYXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5XG4gICAgICogQHJldHVybnMge29iamVjdHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgZ2V0Qm91bmRpbmdTaGFwZSAoZW50aXR5KSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uICAgID0gZW50aXR5LmNvbXBvbmVudHMucG9zaXRpb247XG4gICAgICAgIHZhciBvcmllbnRhdGlvbiA9IGVudGl0eS5jb21wb25lbnRzLm9yaWVudGF0aW9uO1xuICAgICAgICB2YXIgc2hhcGUgICAgICAgPSBlbnRpdHkuY29tcG9uZW50cy5jb2xsaXNpb24uc2hhcGU7XG5cbiAgICAgICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgU2hhcGUuVFlQRS5SRUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiAob3JpZW50YXRpb24pID8gdGhpcy5nZXRPQkIocG9zaXRpb24sIG9yaWVudGF0aW9uLCBzaGFwZSkgOiB0aGlzLmdldEFBQkIocG9zaXRpb24sIHNoYXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBTaGFwZS5UWVBFLkNJUkNMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCQyhwb3NpdGlvbiwgc2hhcGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2xsaXNpb24gYWxnb3JpdGhtIGZvciB0d28gYm91bmRpbmcgc2hhcGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2hhcGVBXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNoYXBlQlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgZ2V0Q29sbGlzaW9uQWxnb3JpdGhtIChzaGFwZUEsIHNoYXBlQikge1xuXG4gICAgICAgIHZhciBhbGdvcml0aG0gPSBzaGFwZUEudHlwZSArICd2cycgKyBzaGFwZUIudHlwZTtcblxuICAgICAgICByZXR1cm4gdGhpc1thbGdvcml0aG1dLmJpbmQodGhpcykgfHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldEFBQkIgKHBvc2l0aW9uLCBzaGFwZSkge1xuXG4gICAgICAgIHZhciBhYWJiID0gcG9zaXRpb24uY2xvbmUoKTtcblxuICAgICAgICBhYWJiLmV4dGVuZCA9IG5ldyBWZWN0b3IoeyB4OiBzaGFwZS53aWR0aCAvIDIsIHk6IHNoYXBlLmhlaWdodCAvIDIgfSk7XG4gICAgICAgIGFhYmIubWluICAgID0gbmV3IFZlY3Rvcih7IHg6IHBvc2l0aW9uLnggLSBhYWJiLmV4dGVuZC54LCB5OiBwb3NpdGlvbi55IC0gYWFiYi5leHRlbmQueSB9KTtcbiAgICAgICAgYWFiYi5tYXggICAgPSBuZXcgVmVjdG9yKHsgeDogcG9zaXRpb24ueCArIGFhYmIuZXh0ZW5kLngsIHk6IHBvc2l0aW9uLnkgKyBhYWJiLmV4dGVuZC55IH0pO1xuICAgICAgICBhYWJiLnR5cGUgICA9ICdBQUJCJztcblxuICAgICAgICByZXR1cm4gYWFiYjtcbiAgICB9XG5cbiAgICBnZXRPQkIgKHBvc2l0aW9uLCBvcmllbnRhdGlvbiwgc2hhcGUpIHtcblxuICAgICAgICB2YXIgb2JiID0gcG9zaXRpb24uY2xvbmUoKTtcblxuICAgICAgICBvYmIuZXh0ZW5kID0gbmV3IFZlY3Rvcih7IHg6IHNoYXBlLndpZHRoIC8gMiwgeTogc2hhcGUuaGVpZ2h0IC8gMiB9KTtcbiAgICAgICAgb2JiLm1pbiAgICA9IG5ldyBWZWN0b3IoeyB4OiBwb3NpdGlvbi54IC0gb2JiLmV4dGVuZC54LCB5OiBwb3NpdGlvbi55IC0gb2JiLmV4dGVuZC55IH0pO1xuICAgICAgICBvYmIubWF4ICAgID0gbmV3IFZlY3Rvcih7IHg6IHBvc2l0aW9uLnggKyBvYmIuZXh0ZW5kLngsIHk6IHBvc2l0aW9uLnkgKyBvYmIuZXh0ZW5kLnkgfSk7XG4gICAgICAgIG9iYi50eXBlICAgPSAnT0JCJztcblxuICAgICAgICByZXR1cm4gb2JiO1xuICAgIH1cblxuICAgIGdldEJDIChwb3NpdGlvbiwgc2hhcGUpIHtcblxuICAgICAgICB2YXIgYmMgPSBwb3NpdGlvbi5jbG9uZSgpO1xuXG4gICAgICAgIGJjLnJhZGl1cyAgID0gc2hhcGUucmFkaXVzO1xuICAgICAgICBiYy50eXBlICAgICA9ICdCQyc7XG5cbiAgICAgICAgcmV0dXJuIGJjO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgdHdvIEFBQkJzIGZvciBjb2xsaXNpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29sbGlzaW9uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgQUFCQnZzQUFCQiAoYSwgYiwgY29sbGlzaW9uKSB7XG5cbiAgICAgICAgdmFyIG5vcm1hbCA9IFZlY3Rvci5zdWJ0cmFjdChiLCBhKTtcblxuICAgICAgICB2YXIgeE92ZXJsYXAgPSAoYS5leHRlbmQueCArIGIuZXh0ZW5kLngpIC0gTWF0aC5hYnMobm9ybWFsLngpO1xuXG4gICAgICAgIC8vIFNBVCBvbiB4LWF4aXNcbiAgICAgICAgaWYgKHhPdmVybGFwID49IDApIHtcblxuICAgICAgICAgICAgdmFyIHlPdmVybGFwID0gKGEuZXh0ZW5kLnkgKyBiLmV4dGVuZC55KSAtIE1hdGguYWJzKG5vcm1hbC55KTtcblxuICAgICAgICAgICAgLy8gU0FUIG9uIHktYXhpc1xuICAgICAgICAgICAgaWYgKHlPdmVybGFwID49IDApIHtcblxuICAgICAgICAgICAgICAgIC8vIGxlYXN0IHBlbmV0cmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHhPdmVybGFwIDw9IHlPdmVybGFwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbC54IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbCA9IG5ldyBWZWN0b3IoeyB4OiAtMSwgeTogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5ub3JtYWwgPSBuZXcgVmVjdG9yKHsgeDogMSwgeTogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5wZW5ldHJhdGlvbiA9IHhPdmVybGFwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsLnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb24ubm9ybWFsID0gbmV3IFZlY3Rvcih7IHg6IDAsIHk6IC0xIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbCA9IG5ldyBWZWN0b3IoeyB4OiAwLCB5OiAxIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uID0geU92ZXJsYXA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB0d28gQkNzIGZvciBjb2xsaXNpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29sbGlzaW9uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgQkN2c0JDIChhLCBiLCBjb2xsaXNpb24pIHtcblxuICAgICAgICB2YXIgbm9ybWFsID0gVmVjdG9yLnN1YnRyYWN0KGIsIGEpO1xuXG4gICAgICAgIHZhciBtaW5EaXN0YW5jZSA9IGEucmFkaXVzICsgYi5yYWRpdXM7XG4gICAgICAgIHZhciBkaXN0YW5jZSAgICA9IE1hdGgucG93KG5vcm1hbC54LCAyKSArIE1hdGgucG93KG5vcm1hbC55LCAyKTtcblxuICAgICAgICAvLyBzcXVhcmUgcm9vdCBpcyBleHBlbnNpdmUsIHNvIHdlIGNoZWNrIGNvbGxpc2lvbiB3aXRoIHRoZSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlc1xuICAgICAgICBpZiAoZGlzdGFuY2UgPD0gTWF0aC5wb3cobWluRGlzdGFuY2UsIDIpKSB7XG5cbiAgICAgICAgICAgIC8vIG5vdyB0aGF0IHdlIGtub3cgdGhlIGNpcmNsZXMgYXJlIGNvbGxpZGluZywgd2UgY2FsY3VsYXRlIHRoZSBzcXVhcmUgcm9vdFxuICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdGFuY2UpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24ucGVuZXRyYXRpb24gPSBtaW5EaXN0YW5jZSAtIGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5ub3JtYWwgPSBub3JtYWwuc2NhbGUoMSAvIGRpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5wZW5ldHJhdGlvbiA9IGEucmFkaXVzO1xuICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSB3ZSBoYXZlIHRvIHNpbXBseSBwaWNrIGEgbm9ybWFsIGFuZCBzdGF5IGNvbnNpc3RlbnRcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24ubm9ybWFsID0gbmV3IFZlY3Rvcih7IHg6IDEsIHk6IDAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3QgYW4gQUFCQiBhbmQgYSBCQyBmb3IgY29sbGlzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBiXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbGxpc2lvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIEFBQkJ2c0JDIChhLCBiLCBjb2xsaXNpb24pIHtcblxuICAgICAgICB2YXIgYWIgPSBWZWN0b3Iuc3VidHJhY3QoYiwgYSk7XG5cbiAgICAgICAgLy8gd2UgY2FuIG5vdyBkZXRlcm1pbmUgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIEFBQkIgdG8gdGhlIEJDIGJ5IHByb2plY3RpbmdcbiAgICAgICAgLy8gdGhlIHZlY3RvciBhYiBvbiB0aGUgZWRnZXMgb2YgdGhlIEFBQkIgYW5kIGxpbWl0aW5nIGl0IChjbGFtcGluZyBpdCkgdG8gdGhlIEFBQkJcbiAgICAgICAgLy8gYXMgYWIgb3JpZ2luYXRlcyBpbiB0aGUgQUFCQidzIGNlbnRlciwgbWluIGFuZCBtYXggYXJlIHRoZSBuZWdhdGl2ZSBhbmQgcG9zaXRpdmUgZXh0ZW5kIG9mIHRoZSBBQUJCXG4gICAgICAgIHZhciBjbG9zZXN0ID0gVmVjdG9yLmNsYW1wKGFiLCBWZWN0b3Iuc2NhbGUoYS5leHRlbmQsIC0xKSwgYS5leHRlbmQpO1xuXG4gICAgICAgIC8vIHRoZSBjb2xsaXNpb24gbm9ybWFsIGlzIHRoZW4gc2ltcGx5IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgQUFCQiB0byB0aGUgQkMgY2VudGVyXG4gICAgICAgIHZhciBub3JtYWwgPSBWZWN0b3Iuc3VidHJhY3QoYWIsIGNsb3Nlc3QpO1xuXG4gICAgICAgIHZhciBtaW5EaXN0YW5jZSA9IGIucmFkaXVzO1xuICAgICAgICB2YXIgZGlzdGFuY2UgICAgPSBNYXRoLnBvdyhub3JtYWwueCwgMikgKyBNYXRoLnBvdyhub3JtYWwueSwgMik7XG5cbiAgICAgICAgLy8gc3F1YXJlIHJvb3QgaXMgZXhwZW5zaXZlLCBzbyB3ZSBjaGVjayBjb2xsaXNpb24gd2l0aCB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZXNcbiAgICAgICAgaWYgKGRpc3RhbmNlIDw9IE1hdGgucG93KG1pbkRpc3RhbmNlLCAyKSkge1xuXG4gICAgICAgICAgICAvLyBub3cgdGhhdCB3ZSBrbm93IHRoZXJlJ3MgYSBjb2xsaXNpb24sIHdlIGNhbGN1bGF0ZSB0aGUgc3F1YXJlIHJvb3RcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRpc3RhbmNlKTtcblxuICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbCA9IG5vcm1hbC5zY2FsZSgxIC8gZGlzdGFuY2UpO1xuICAgICAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uID0gbWluRGlzdGFuY2UgLSBkaXN0YW5jZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgQkN2c0FBQkIgKGEsIGIsIGNvbGxpc2lvbikge1xuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLkFBQkJ2c0JDKGIsIGEsIGNvbGxpc2lvbik7XG5cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbC5zY2FsZSgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc29sdmVDb2xsaXNpb24gKG1hbmlmb2xkKSB7XG5cbiAgICAgICAgdmFyIGVudGl0eUEgPSBtYW5pZm9sZC5hO1xuICAgICAgICB2YXIgZW50aXR5QiA9IG1hbmlmb2xkLmI7XG5cbiAgICAgICAgdmFyIHZlbG9jaXR5QSA9IGVudGl0eUEuY29tcG9uZW50cy52ZWxvY2l0eTtcbiAgICAgICAgdmFyIHZlbG9jaXR5QiA9IGVudGl0eUIuY29tcG9uZW50cy52ZWxvY2l0eTtcblxuICAgICAgICB2YXIgbWF0ZXJpYWxBID0gZW50aXR5QS5jb21wb25lbnRzLm1hdGVyaWFsO1xuICAgICAgICB2YXIgbWF0ZXJpYWxCID0gZW50aXR5Qi5jb21wb25lbnRzLm1hdGVyaWFsO1xuXG4gICAgICAgIHZhciBtYXNzQSA9IGVudGl0eUEuY29tcG9uZW50cy5tYXNzO1xuICAgICAgICB2YXIgbWFzc0IgPSBlbnRpdHlCLmNvbXBvbmVudHMubWFzcztcblxuICAgICAgICB2YXIgcmVsYXRpdmVWZWxvY2l0eSAgICA9IFZlY3Rvci5zdWJ0cmFjdCh2ZWxvY2l0eUIsIHZlbG9jaXR5QSk7XG4gICAgICAgIHZhciB2ZWxvY2l0eVByb2plY3Rpb24gID0gVmVjdG9yLmRvdFByb2R1Y3QocmVsYXRpdmVWZWxvY2l0eSwgbWFuaWZvbGQubm9ybWFsKTtcblxuICAgICAgICAvLyB2ZWxvY2l0aWVzIGFyZSBzZXBhcmF0aW5nLCBubyByZXNvbHV0aW9uXG4gICAgICAgIGlmICh2ZWxvY2l0eVByb2plY3Rpb24gPiAwKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciByZXN0aXR1dGlvbiAgICAgICAgID0gTWF0ZXJpYWwuZ2V0UmVzdGl0dXRpb24obWF0ZXJpYWxBLCBtYXRlcmlhbEIpO1xuICAgICAgICB2YXIgdG90YWxJbnZlcnNlTWFzcyAgICA9IG1hc3NBLmludmVyc2VNYXNzICsgbWFzc0IuaW52ZXJzZU1hc3M7XG5cbiAgICAgICAgLy8gaW4gYSBjb2xsaXNpb24sIHRoZSBvYmplY3RzIHZlbG9jaXR5IGdldHMgcmVmbGVjdGVkIGFsb25nIHRoZSBjb2xsaXNpb24gbm9ybWFsXG4gICAgICAgIC8vIGR1ZSB0byB0aGUgbm9ybWFsIGZvcmNlIGV4Y2VydGVkIG9uIGl0IGJ5IHRoZSBjb2xsaWRpbmcgb2JqZWN0XG4gICAgICAgIC8vIGFzIHRoZSBjb2xsaXNpb24gdGltZSBpcyB2ZXJ5IHNob3J0LCB3ZSBjYW4gZXhwcmVzcyB0aGlzIG5vcm1hbCBmb3JjZSBhcyBhbiBpbXB1bHNlXG4gICAgICAgIC8vIHdoaWNoIHJlcHJlc2VudHMgdGhlIG5vcm1hbCBmb3JjZSBvdmVyIHRoZSBjb2xsaXNpb24gdGltZSBhbmQgYXBwbHkgdGhlIGltcHVsc2UgdG8gdGhlIG9iamVjdHNcblxuICAgICAgICB2YXIgbm9ybWFsSW1wdWxzZVNjYWxhciA9ICgtKDEgKyByZXN0aXR1dGlvbikgKiB2ZWxvY2l0eVByb2plY3Rpb24pIC8gdG90YWxJbnZlcnNlTWFzcztcblxuICAgICAgICB2YXIgbm9ybWFsSW1wdWxzZSA9IFZlY3Rvci5zY2FsZShtYW5pZm9sZC5ub3JtYWwsIG5vcm1hbEltcHVsc2VTY2FsYXIpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRoZSBub3JtYWwgaW1wdWxzZVxuICAgICAgICB2ZWxvY2l0eUEuc3VidHJhY3QoVmVjdG9yLnNjYWxlKG5vcm1hbEltcHVsc2UsIG1hc3NBLmludmVyc2VNYXNzKSk7XG4gICAgICAgIHZlbG9jaXR5Qi5hZGQoVmVjdG9yLnNjYWxlKG5vcm1hbEltcHVsc2UsIG1hc3NCLmludmVyc2VNYXNzKSk7XG5cbiAgICAgICAgLy8gdGhlIGZyaWN0aW9uIGZvcmNlcyBkdXJpbmcgYSBjb2xsaXNpb24gZGVwZW5kIG9uIHRoZSBub3JtYWwgZm9yY2VcbiAgICAgICAgLy8gdGhlIG5vcm1hbCBpbXB1bHNlIHJlcHJlc2VudHMgdGhlIGludGVncmFsIG9mIHRoZSBub3JtYWwgZm9yY2UgZHVyaW5nIHRoZSBjb2xsaXNpb25cbiAgICAgICAgLy8gYW5kIHdlIGNhbiBkZXJpdmUgdGhlIGZyaWN0aW9uIGltcHVsc2UgZnJvbSB0aGUgbm9ybWFsIGltcHVsc2VcbiAgICAgICAgLy8gdGhlIGZyaWN0aW9uIGltcHVsc2Ugd2lsbCBwb2ludCBhbG9uZyB0aGUgY29sbGlzaW9uIHRhbmdlbnQgaW4gbmVnYXRpdmUgZGlyZWN0aW9uXG5cbiAgICAgICAgdmFyIHRhbmdlbnQgPSBuZXcgVmVjdG9yKC1tYW5pZm9sZC5ub3JtYWwueSwgbWFuaWZvbGQubm9ybWFsLngpO1xuXG4gICAgICAgIHZlbG9jaXR5UHJvamVjdGlvbiA9IHJlbGF0aXZlVmVsb2NpdHkuZG90UHJvZHVjdCh0YW5nZW50KTtcblxuICAgICAgICBpZiAodmVsb2NpdHlQcm9qZWN0aW9uID09PSAwKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodmVsb2NpdHlQcm9qZWN0aW9uIDwgMCkgeyB0YW5nZW50LnNjYWxlKC0xKTsgfVxuXG4gICAgICAgIHZhciBmcmljdGlvbkltcHVsc2VTY2FsYXIgPSAodmVsb2NpdHlQcm9qZWN0aW9uIDwgMCA/IHZlbG9jaXR5UHJvamVjdGlvbiA6IC12ZWxvY2l0eVByb2plY3Rpb24pIC8gdG90YWxJbnZlcnNlTWFzcztcblxuICAgICAgICB2YXIgZnJpY3Rpb25JbXB1bHNlO1xuXG4gICAgICAgIHZhciBzdGF0aWNGcmljdGlvbiA9IE1hdGVyaWFsLmdldFN0YXRpY0ZyaWN0aW9uKG1hdGVyaWFsQSwgbWF0ZXJpYWxCKTtcbiAgICAgICAgdmFyIGR5bmFtaWNGcmljdGlvbiA9IE1hdGVyaWFsLmdldER5bmFtaWNGcmljdGlvbihtYXRlcmlhbEEsIG1hdGVyaWFsQik7XG5cbiAgICAgICAgLy8gVE9ETzogV2hlbiBzaG91bGQgd2UgdXNlIHN0YXRpYyB2cyBkeW5hbWljIGZyaWN0aW9uPyBEbyB3ZSBuZWVkIHRvIGFmZmVjdCBmb3JjZXM/XG4gICAgICAgIGlmIChNYXRoLmFicyhmcmljdGlvbkltcHVsc2VTY2FsYXIpIDwgbm9ybWFsSW1wdWxzZVNjYWxhciAqIHN0YXRpY0ZyaWN0aW9uKSB7XG4gICAgICAgICAgICBmcmljdGlvbkltcHVsc2UgPSBWZWN0b3Iuc2NhbGUodGFuZ2VudCwgZnJpY3Rpb25JbXB1bHNlU2NhbGFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyaWN0aW9uSW1wdWxzZSA9IFZlY3Rvci5zY2FsZSh0YW5nZW50LCAtbm9ybWFsSW1wdWxzZVNjYWxhciAqIGR5bmFtaWNGcmljdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2ZWxvY2l0eUEuc3VidHJhY3QoVmVjdG9yLnNjYWxlKGZyaWN0aW9uSW1wdWxzZSwgbWFzc0EuaW52ZXJzZU1hc3MpKTtcbiAgICAgICAgdmVsb2NpdHlCLmFkZChWZWN0b3Iuc2NhbGUoZnJpY3Rpb25JbXB1bHNlLCBtYXNzQi5pbnZlcnNlTWFzcykpO1xuICAgIH1cblxuICAgIGNvcnJlY3RQb3NpdGlvbiAobWFuaWZvbGQpIHtcblxuICAgICAgICB2YXIgcGVuZXRyYXRpb24gPSBtYW5pZm9sZC5wZW5ldHJhdGlvbiAtIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uVGhyZXNob2xkO1xuXG4gICAgICAgIGlmIChwZW5ldHJhdGlvbiA+IDApIHtcblxuICAgICAgICAgICAgbGV0IGEgPSBtYW5pZm9sZC5hO1xuICAgICAgICAgICAgbGV0IGIgPSBtYW5pZm9sZC5iO1xuXG4gICAgICAgICAgICBsZXQgY29ycmVjdGlvblNjYWxhciA9IChwZW5ldHJhdGlvbiAvIChhLmNvbXBvbmVudHMubWFzcy5pbnZlcnNlTWFzcyArIGIuY29tcG9uZW50cy5tYXNzLmludmVyc2VNYXNzKSkgKiB0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbkZhY3RvcjtcbiAgICAgICAgICAgIGxldCBjb3JyZWN0aW9uVmVjdG9yID0gVmVjdG9yLnNjYWxlKG1hbmlmb2xkLm5vcm1hbCwgY29ycmVjdGlvblNjYWxhcik7XG5cbiAgICAgICAgICAgIGEuY29tcG9uZW50cy5wb3NpdGlvbi5zdWJ0cmFjdChWZWN0b3Iuc2NhbGUoY29ycmVjdGlvblZlY3RvciwgYS5jb21wb25lbnRzLm1hc3MuaW52ZXJzZU1hc3MpKTtcbiAgICAgICAgICAgIGIuY29tcG9uZW50cy5wb3NpdGlvbi5hZGQoVmVjdG9yLnNjYWxlKGNvcnJlY3Rpb25WZWN0b3IsIGIuY29tcG9uZW50cy5tYXNzLmludmVyc2VNYXNzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxpc2lvblN5c3RlbTtcbiIsImltcG9ydCBTaGFwZSBmcm9tICcuLi9jb21wb25lbnRzL3NoYXBlJztcblxuY29uc3QgUElfRE9VQkxFID0gTWF0aC5QSSAqIDI7XG5jb25zdCBQSV9IQUxGID0gTWF0aC5QSSAvIDI7XG5jb25zdCBQSSA9IE1hdGguUEk7XG5cbmNsYXNzIFJlbmRlclN5c3RlbSB7XG5cbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG9wdGlvbnMuY29udGV4dDtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0ID0ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBzY2FsZVg6IDIwLFxuICAgICAgICAgICAgc2NhbGVZOiAyMFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0VtcHR5ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmVuYWJsZUJ1ZmZlcmluZyA9IG9wdGlvbnMuZW5hYmxlQnVmZmVyaW5nIHx8IHRydWU7XG4gICAgICAgIHRoaXMuZW5hYmxlQW50aWFsaWFzID0gb3B0aW9ucy5lbmFibGVBbnRpYWxpYXMgfHwgdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmFibGVTbW9vdGhpbmcgPSBvcHRpb25zLmVuYWJsZVNtb290aGluZyB8fCB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZSAoZW50aXRpZXMsIHdvcmxkKSB7XG5cbiAgICAgICAgdmFyIGksIGNvdW50O1xuXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy52aWV3cG9ydC53aWR0aCwgdGhpcy52aWV3cG9ydC5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IDE7XG5cbiAgICAgICAgZm9yIChpID0gMCwgY291bnQgPSBlbnRpdGllcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGxldCBlbnRpdHkgPSBlbnRpdGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGVudGl0eS5jb21wb25lbnRzLnBvc2l0aW9uICYmIGVudGl0eS5jb21wb25lbnRzLnNoYXBlKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNoYXBlKHRoaXMuY29udGV4dCwgZW50aXR5LmNvbXBvbmVudHMucG9zaXRpb24sIGVudGl0eS5jb21wb25lbnRzLnNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVudGl0eS5jb21wb25lbnRzLnBvc2l0aW9uICYmIGVudGl0eS5jb21wb25lbnRzLnNwcml0ZSkge31cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclNoYXBlIChjb250ZXh0LCBwb3NpdGlvbiwgc2hhcGUpIHtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcblxuLy8gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBlbnRpdHkuYWxwaGEgfHwgdGhpcy5hbHBoYTtcbi8vICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGVudGl0eS5jb2xvciB8fCB0aGlzLmNvbG9yO1xuLy8gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBlbnRpdHkuY29sb3IgfHwgdGhpcy5jb2xvcjtcbi8vICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG5cbiAgICAgICAgLy9jb250ZXh0LnRyYW5zZm9ybShjb3MsIHNpbiwgLXNpbiwgY29zLCB4LCB5KTtcblxuICAgICAgICBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCBwb3NpdGlvbi54ICogdGhpcy52aWV3cG9ydC5zY2FsZVgsIHBvc2l0aW9uLnkgKiB0aGlzLnZpZXdwb3J0LnNjYWxlWSk7XG5cbiAgICAgICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgU2hhcGUuVFlQRS5SRUNUOlxuXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gc2hhcGUud2lkdGggKiB0aGlzLnZpZXdwb3J0LnNjYWxlWDtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0ICogdGhpcy52aWV3cG9ydC5zY2FsZVk7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFNoYXBlLlRZUEUuQ0lSQ0xFOlxuXG4gICAgICAgICAgICAgICAgbGV0IHJhZGl1cyA9IHNoYXBlLnJhZGl1cyAqIHRoaXMudmlld3BvcnQuc2NhbGVYO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHJhZGl1cywgMCwgUElfRE9VQkxFKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU2hhcGUuVFlQRS5UUklBTkdMRTpcblxuICAgICAgICAgICAgICAgIGxldCB4ID0gc2hhcGUud2lkdGggKiB0aGlzLnZpZXdwb3J0LnNjYWxlWCAvIDI7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBzaGFwZS5oZWlnaHQgKiB0aGlzLnZpZXdwb3J0LnNjYWxlWSAvIDI7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgLXkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKC14LCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygwLCAteSk7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJTeXN0ZW07XG4iLCJpbXBvcnQgV29ybGQgZnJvbSAnLi9hcmNhZGUvd29ybGQnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL2FyY2FkZS9lbnRpdHknO1xuXG5pbXBvcnQgUG9zaXRpb24gZnJvbSAnLi9hcmNhZGUvY29tcG9uZW50cy9wb3NpdGlvbic7XG5pbXBvcnQgVmVsb2NpdHkgZnJvbSAnLi9hcmNhZGUvY29tcG9uZW50cy92ZWxvY2l0eSc7XG5pbXBvcnQgR3Jhdml0eSBmcm9tICcuL2FyY2FkZS9jb21wb25lbnRzL2dyYXZpdHknO1xuaW1wb3J0IEZvcmNlIGZyb20gJy4vYXJjYWRlL2NvbXBvbmVudHMvZm9yY2UnO1xuaW1wb3J0IE1hc3MgZnJvbSAnLi9hcmNhZGUvY29tcG9uZW50cy9tYXNzJztcbmltcG9ydCBTaGFwZSBmcm9tICcuL2FyY2FkZS9jb21wb25lbnRzL3NoYXBlJztcbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuL2FyY2FkZS9jb21wb25lbnRzL21hdGVyaWFsJztcbmltcG9ydCBJbnB1dCBmcm9tICcuL2FyY2FkZS9jb21wb25lbnRzL2lucHV0JztcbmltcG9ydCBDb2xsaXNpb24gZnJvbSAnLi9hcmNhZGUvY29tcG9uZW50cy9jb2xsaXNpb24nO1xuXG5pbXBvcnQgSW5wdXRTeXN0ZW0gZnJvbSAnLi9hcmNhZGUvc3lzdGVtcy9pbnB1dCc7XG5pbXBvcnQgUGh5c2ljc1N5c3RlbSBmcm9tICcuL2FyY2FkZS9zeXN0ZW1zL3BoeXNpY3MnO1xuaW1wb3J0IENvbGxpc2lvblN5c3RlbSBmcm9tICcuL2FyY2FkZS9zeXN0ZW1zL2NvbGxpc2lvbic7XG5pbXBvcnQgUmVuZGVyU3lzdGVtIGZyb20gJy4vYXJjYWRlL3N5c3RlbXMvcmVuZGVyJztcblxuKGZ1bmN0aW9uICh3aW5kb3cpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKTtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuICAgIHZhciB3b3JsZCA9IG5ldyBXb3JsZCh7IHdpZHRoOiA0MCwgaGVpZ2h0OiAzMCB9KTtcblxuICAgIHdvcmxkLmFkZFN5c3RlbShuZXcgSW5wdXRTeXN0ZW0oe30pKTtcblxuICAgIHdvcmxkLmFkZFN5c3RlbShuZXcgUGh5c2ljc1N5c3RlbSh7fSkpO1xuXG4gICAgd29ybGQuYWRkU3lzdGVtKG5ldyBDb2xsaXNpb25TeXN0ZW0oe30pKTtcblxuICAgIHdvcmxkLmFkZFN5c3RlbShuZXcgUmVuZGVyU3lzdGVtKHtcbiAgICAgICAgY29udGV4dDogY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICB9KSk7XG5cbiAgICB2YXIgc2hhcGU7XG4gICAgdmFyIG1hdGVyaWFsO1xuICAgIHZhciBlbnRpdHk7XG5cbiAgICBzaGFwZSA9IG5ldyBTaGFwZSh7XG4gICAgICAgIHR5cGU6IFNoYXBlLlRZUEUuQ0lSQ0xFLFxuICAgICAgICByYWRpdXM6IDFcbiAgICB9KTtcblxuICAgIG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKHtcbiAgICAgICAgcmVzdGl0dXRpb246IDAuNSxcbiAgICAgICAgZGVuc2l0eTogMSxcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwuVFlQRS5XT09EXG4gICAgfSk7XG5cbiAgICBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgUG9zaXRpb24oe1xuICAgICAgICAgICAgeDogNCxcbiAgICAgICAgICAgIHk6IDNcbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFZlbG9jaXR5KHtcbiAgICAgICAgICAgIHg6IDIsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBHcmF2aXR5KHt9KSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgQ29sbGlzaW9uKHtcbiAgICAgICAgICAgIHNoYXBlOiBzaGFwZVxuICAgICAgICB9KSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgTWFzcyh7bWFzczogMX0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG1hdGVyaWFsKVxuICAgICAgICAuYWRkQ29tcG9uZW50KHNoYXBlKTtcblxuICAgIHdvcmxkLmFkZEVudGl0eShlbnRpdHkpO1xuXG4gICAgc2hhcGUgPSBuZXcgU2hhcGUoe1xuICAgICAgICB0eXBlOiBTaGFwZS5UWVBFLlJFQ1QsXG4gICAgICAgIC8vdHlwZTogU2hhcGUuVFlQRS5DSVJDTEUsXG4gICAgICAgIHdpZHRoOiAxLjUsXG4gICAgICAgIGhlaWdodDogMS41XG4gICAgICAgIC8vcmFkaXVzOiAwLjc1XG4gICAgfSk7XG5cbiAgICBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgUG9zaXRpb24oe1xuICAgICAgICAgICAgeDogNi41LFxuICAgICAgICAgICAgeTogM1xuICAgICAgICB9KSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgVmVsb2NpdHkoe1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IEdyYXZpdHkoe30pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBDb2xsaXNpb24oe1xuICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgIH0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBNYXNzKHttYXNzOiAwLjV9KSlcbiAgICAgICAgLmFkZENvbXBvbmVudChtYXRlcmlhbClcbiAgICAgICAgLmFkZENvbXBvbmVudChzaGFwZSk7XG5cbiAgICB3b3JsZC5hZGRFbnRpdHkoZW50aXR5KTtcblxuICAgIGVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBQb3NpdGlvbih7XG4gICAgICAgICAgICB4OiA4LFxuICAgICAgICAgICAgeTogMjBcbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFZlbG9jaXR5KHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBDb2xsaXNpb24oe1xuICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgIH0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBNYXNzKHttYXNzOiAwfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobWF0ZXJpYWwpXG4gICAgICAgIC5hZGRDb21wb25lbnQoc2hhcGUpO1xuXG4gICAgd29ybGQuYWRkRW50aXR5KGVudGl0eSk7XG5cbiAgICAvLyBQbGF5ZXJcblxuICAgIHNoYXBlID0gbmV3IFNoYXBlKHtcbiAgICAgICAgdHlwZTogU2hhcGUuVFlQRS5DSVJDTEUsXG4gICAgICAgIHJhZGl1czogMVxuICAgIH0pO1xuXG4gICAgZW50aXR5ID0gbmV3IEVudGl0eSgpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFBvc2l0aW9uKHtcbiAgICAgICAgICAgIHg6IDEwLFxuICAgICAgICAgICAgeTogMTBcbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFZlbG9jaXR5KHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0pKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBGb3JjZSh7fSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IENvbGxpc2lvbih7XG4gICAgICAgICAgICBzaGFwZTogc2hhcGVcbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IE1hc3Moe21hc3M6IDJ9KSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgSW5wdXQoe1xuICAgICAgICAgICAga2V5czoge1xuICAgICAgICAgICAgICAgIDM3OiBmdW5jdGlvbiAoZW50aXR5LCB3b3JsZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29tcG9uZW50cy5mb3JjZS54IC09IDIwO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMzg6IGZ1bmN0aW9uIChlbnRpdHksIHdvcmxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5jb21wb25lbnRzLmZvcmNlLnkgLT0gMjA7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAzOTogZnVuY3Rpb24gKGVudGl0eSwgd29ybGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvbXBvbmVudHMuZm9yY2UueCArPSAyMDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDQwOiBmdW5jdGlvbiAoZW50aXR5LCB3b3JsZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY29tcG9uZW50cy5mb3JjZS55ICs9IDIwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobWF0ZXJpYWwpXG4gICAgICAgIC5hZGRDb21wb25lbnQoc2hhcGUpO1xuXG4gICAgd29ybGQuYWRkRW50aXR5KGVudGl0eSk7XG5cbiAgICAvLyBCb3VuZHNcblxuICAgIHNoYXBlID0gbmV3IFNoYXBlKHtcbiAgICAgICAgdHlwZTogU2hhcGUuVFlQRS5SRUNULFxuICAgICAgICB3aWR0aDogMzgsXG4gICAgICAgIGhlaWdodDogMVxuICAgIH0pO1xuXG4gICAgZW50aXR5ID0gbmV3IEVudGl0eSgpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFBvc2l0aW9uKDIwLCAyOSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFZlbG9jaXR5KDAsIDApKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBNYXNzKDApKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG1hdGVyaWFsKVxuICAgICAgICAuYWRkQ29tcG9uZW50KHNoYXBlKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBDb2xsaXNpb24oeyBzaGFwZTogc2hhcGUgfSkpO1xuXG4gICAgd29ybGQuYWRkRW50aXR5KGVudGl0eSk7XG5cbiAgICBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgUG9zaXRpb24oMjAsIDEpKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBWZWxvY2l0eSgwLCAwKSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgTWFzcygwKSlcbiAgICAgICAgLmFkZENvbXBvbmVudChtYXRlcmlhbClcbiAgICAgICAgLmFkZENvbXBvbmVudChzaGFwZSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgQ29sbGlzaW9uKHsgc2hhcGU6IHNoYXBlIH0pKTtcblxuICAgIHdvcmxkLmFkZEVudGl0eShlbnRpdHkpO1xuXG4gICAgc2hhcGUgPSBuZXcgU2hhcGUoe1xuICAgICAgICB0eXBlOiBTaGFwZS5UWVBFLlJFQ1QsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBoZWlnaHQ6IDI1XG4gICAgfSk7XG5cbiAgICBlbnRpdHkgPSBuZXcgRW50aXR5KClcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgUG9zaXRpb24oMSwgMTUpKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBWZWxvY2l0eSgwLCAwKSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgTWFzcygwKSlcbiAgICAgICAgLmFkZENvbXBvbmVudChtYXRlcmlhbClcbiAgICAgICAgLmFkZENvbXBvbmVudChzaGFwZSlcbiAgICAgICAgLmFkZENvbXBvbmVudChuZXcgQ29sbGlzaW9uKHsgc2hhcGU6IHNoYXBlIH0pKTtcblxuICAgIHdvcmxkLmFkZEVudGl0eShlbnRpdHkpO1xuXG4gICAgZW50aXR5ID0gbmV3IEVudGl0eSgpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFBvc2l0aW9uKDM5LCAxNSkpXG4gICAgICAgIC5hZGRDb21wb25lbnQobmV3IFZlbG9jaXR5KDAsIDApKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBNYXNzKDApKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG1hdGVyaWFsKVxuICAgICAgICAuYWRkQ29tcG9uZW50KHNoYXBlKVxuICAgICAgICAuYWRkQ29tcG9uZW50KG5ldyBDb2xsaXNpb24oeyBzaGFwZTogc2hhcGUgfSkpO1xuXG4gICAgd29ybGQuYWRkRW50aXR5KGVudGl0eSk7XG5cbiAgICB3aW5kb3cud29ybGQgPSB3b3JsZDtcblxuXG5cbiAgICB2YXIgZ2FtZSA9IHtcblxuICAgICAgICByZXF1ZXN0SWQ6IDAsXG4gICAgICAgIHRpbWU6IDAsXG4gICAgICAgIGRlbHRhOiAwLFxuICAgICAgICBhY2N1bXVsYXRvcjogMCxcbiAgICAgICAgc3RlcDogMTAwMCAvIDYwLFxuXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yZXF1ZXN0SWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJlcXVlc3RJZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RlcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd29ybGQudXBkYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9vcDogZnVuY3Rpb24gKHRpbWUpIHtcblxuLy8gICAgICAgICAgICB0aGlzLmRlbHRhICA9IHRpbWUgLSB0aGlzLnRpbWU7XG4vLyAgICAgICAgICAgIHRoaXMudGltZSAgID0gdGltZTtcbi8vXG4vLyAgICAgICAgICAgIHRoaXMuX2RlYnVnLnVwZiA9IDA7XG4vL1xuLy8gICAgICAgICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRoaXMuZGVsdGE7XG4vL1xuLy8gICAgICAgICAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRvciA+PSB0aGlzLnN0ZXApIHtcbi8vXG4vLyAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnN0ZXApO1xuLy8gICAgICAgICAgICAgICAgdGhpcy5hY2N1bXVsYXRvciAtPSB0aGlzLnN0ZXA7XG4vLyAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1Zy51cGYrKztcbi8vICAgICAgICAgICAgfVxuLy9cbi8vICAgICAgICAgICAgdGhpcy5fZGVidWcudXBkYXRlVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHRpbWU7XG4vL1xuLy8gICAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmVuYWJsZVNtb290aGluZyA/ICh0aGlzLmFjY3VtdWxhdG9yIC8gdGhpcy5zdGVwKSA6IDApO1xuLy9cbi8vICAgICAgICAgICAgdGhpcy5fZGVidWcucmVuZGVyVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHRpbWUgLSB0aGlzLl9kZWJ1Zy51cGRhdGVUaW1lO1xuLy9cbi8vICAgICAgICAgICAgdGhpcy5fZGVidWcuZnJhbWVUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC0gdGltZTtcbi8vXG4vLyAgICAgICAgICAgIHRoaXMucmVxdWVzdElkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3AuYmluZCh0aGlzKSk7XG5cblxuICAgICAgICAgICAgd29ybGQudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzdGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpO1xuICAgIHZhciBwYXVzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZScpO1xuICAgIHZhciBzdGVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXAnKTtcbiAgICB2YXIgc3RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wJyk7XG4gICAgdmFyIHNtb290aGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbW9vdGhpbmcnKTtcblxuICAgIHN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBnYW1lLnN0YXJ0KCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcGF1c2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdhbWUucGF1c2UoKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBzdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBnYW1lLnN0ZXAoKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBzdG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBnYW1lLnN0b3AoKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBzbW9vdGhpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBnYW1lLmVuYWJsZVNtb290aGluZyA9IHNtb290aGluZy5jaGVja2VkO1xuICAgIH0sIGZhbHNlKTtcblxufSkod2luZG93KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=